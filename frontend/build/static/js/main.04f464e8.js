/*! For license information please see main.04f464e8.js.LICENSE.txt */
(()=>{"use strict";var e={175:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,i=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function s(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function o(e){var t="https://952edcb4-f032-46dc-a06d-39918eaceb55.preview.emergentagent.com","/api"),wa=(0,a.createContext)(),ka=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[l,o]=(0,a.useState)(localStorage.getItem("token"));(0,a.useEffect)((()=>{if(l){qr.defaults.headers.common.Authorization="Bearer ".concat(l);const e=localStorage.getItem("user");e&&r(JSON.parse(e))}}),[l]);return(0,va.jsx)(wa.Provider,{value:{user:n,token:l,login:(e,t)=>{r(e),o(t),localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(e)),qr.defaults.headers.common.Authorization="Bearer ".concat(t)},logout:()=>{r(null),o(null),localStorage.removeItem("token"),localStorage.removeItem("user"),delete qr.defaults.headers.common.Authorization}},children:t})},Sa=()=>{const e=(0,a.useContext)(wa);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Na=()=>{const[e,t]=(0,a.useState)("en"),{user:n,logout:r}=Sa(),l=he();return(0,va.jsx)("header",{className:"bg-blue-600 text-white shadow-lg",children:(0,va.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,va.jsxs)(mt,{to:"/",className:"flex items-center space-x-2",children:[(0,va.jsx)(Jr,{className:"h-8 w-8"}),(0,va.jsx)("span",{className:"text-2xl font-bold",children:"ChekUp"})]}),(0,va.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,va.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"bg-blue-700 text-white px-3 py-1 rounded",children:[(0,va.jsx)("option",{value:"en",children:"English"}),(0,va.jsx)("option",{value:"fr",children:"Fran\xe7ais"})]}),n?(0,va.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,va.jsxs)("span",{children:["Welcome, ",n.name]}),(0,va.jsxs)("button",{onClick:()=>{r(),l("/")},className:"flex items-center space-x-1 bg-blue-700 px-3 py-1 rounded hover:bg-blue-800",children:[(0,va.jsx)(Zr,{className:"h-4 w-4"}),(0,va.jsx)("span",{children:"Logout"})]})]}):(0,va.jsxs)(mt,{to:"/admin-login",className:"flex items-center space-x-1 bg-blue-700 px-3 py-1 rounded hover:bg-blue-800",children:[(0,va.jsx)(ea,{className:"h-4 w-4"}),(0,va.jsx)("span",{children:"Admin Login"})]})]})]})})})},ja=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[l,o]=(0,a.useState)(""),[i,s]=(0,a.useState)([]),[c,u]=(0,a.useState)(null),[d,f]=(0,a.useState)([]),[p,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)("USD");(0,a.useEffect)((()=>{y(),b()}),[]);const y=async()=>{try{const e=await qr.get("".concat(xa,"/public/tests"));t(e.data)}catch(e){console.error("Error fetching tests:",e)}},b=async()=>{try{const e=await qr.get("".concat(xa,"/public/clinics"));r(e.data)}catch(e){console.error("Error fetching clinics:",e)}},v=e=>{(async e=>{try{const t=await qr.get("".concat(xa,"/public/tests/").concat(e,"/pricing"));f(t.data)}catch(t){console.error("Error fetching test pricing:",t)}})(e.id),s([e]),u(null)},x=()=>{if(!c)return 0;let e=0;return i.forEach((t=>{const n=d.find((e=>e.test.id===t.id&&e.clinic.id===c.id));n&&(e+="USD"===m?n.pricing.price_usd:n.pricing.price_lrd)})),e},w=e.filter((e=>e.name.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase()))),k=n.filter((e=>e.name.toLowerCase().includes(l.toLowerCase())||e.location.toLowerCase().includes(l.toLowerCase())));return(0,va.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,va.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-20",children:(0,va.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,va.jsx)("img",{src:"https://images.unsplash.com/photo-1638202993928-7267aad84c31?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2Nzd8MHwxfHNlYXJjaHwxfHxtZWRpY2FsfGVufDB8fHxibHVlfDE3NTI4ODA5NzB8MA&ixlib=rb-4.1.0&q=85",alt:"Professional Healthcare",className:"mx-auto mb-8 rounded-lg shadow-lg w-64 h-48 object-cover"}),(0,va.jsx)("h1",{className:"text-5xl font-bold mb-4",children:"Welcome to ChekUp"}),(0,va.jsx)("p",{className:"text-xl mb-8",children:"Simplifying access to medical lab testing and international surgical assistance"}),(0,va.jsx)("div",{className:"max-w-md mx-auto",children:(0,va.jsxs)("div",{className:"relative",children:[(0,va.jsx)(ta,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,va.jsx)("input",{type:"text",placeholder:"Search tests or clinics...",className:"w-full pl-10 pr-4 py-3 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-300",value:l,onChange:e=>o(e.target.value)})]})})]})}),(0,va.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,va.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,va.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center",children:[(0,va.jsx)(na,{className:"mr-2 h-6 w-6"}),"Browse Lab Tests"]}),(0,va.jsx)("div",{className:"grid grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:w.map((e=>(0,va.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-colors",onClick:()=>v(e),children:[(0,va.jsxs)("div",{className:"flex items-center mb-2",children:[(0,va.jsx)(ra,{className:"h-8 w-8 text-blue-600 mr-2"}),(0,va.jsx)("h3",{className:"font-semibold",children:e.name})]}),(0,va.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,va.jsx)("span",{className:"inline-block mt-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:e.category})]},e.id)))})]}),(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,va.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center",children:[(0,va.jsx)(aa,{className:"mr-2 h-6 w-6"}),"Browse Clinics & Hospitals"]}),(0,va.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:k.map((e=>(0,va.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-colors",onClick:()=>(async e=>{try{const t=await qr.get("".concat(xa,"/public/clinics/").concat(e.id,"/tests"));f(t.data),u(e),s([])}catch(t){console.error("Error fetching clinic tests:",t)}})(e),children:(0,va.jsxs)("div",{className:"flex items-start justify-between",children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,va.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,va.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,va.jsx)(la,{className:"h-4 w-4 mr-1"}),e.location]}),(0,va.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,va.jsx)(oa,{className:"h-4 w-4 mr-1"}),e.phone]})]}),(0,va.jsxs)("div",{className:"flex items-center",children:[(0,va.jsx)(ia,{className:"h-4 w-4 text-yellow-400 mr-1"}),(0,va.jsxs)("span",{className:"text-sm",children:[e.rating||0," (",e.total_reviews||0,")"]})]})]})},e.id)))})]})]}),d.length>0&&(0,va.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[(0,va.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold",children:c?"".concat(c.name," - Available Tests"):"Available Providers"}),(0,va.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,va.jsx)("span",{children:"Currency:"}),(0,va.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"border rounded px-3 py-1",children:[(0,va.jsx)("option",{value:"USD",children:"USD"}),(0,va.jsx)("option",{value:"LRD",children:"LRD"})]})]})]}),(0,va.jsx)("div",{className:"grid gap-4",children:d.map(((e,t)=>(0,va.jsx)("div",{className:"border rounded-lg p-4",children:(0,va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,va.jsxs)("div",{className:"flex-1",children:[(0,va.jsx)("h3",{className:"font-semibold",children:e.test.name}),(0,va.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.test.description}),(0,va.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,va.jsx)(aa,{className:"h-4 w-4 mr-1"}),e.clinic.name," - ",e.clinic.location]})]}),(0,va.jsxs)("div",{className:"text-right",children:[(0,va.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["USD"===m?"$":"L$","USD"===m?e.pricing.price_usd:e.pricing.price_lrd]}),(0,va.jsx)("button",{onClick:()=>{(e=>{const t=i.some((t=>t.id===e.test.id));t||s([...i,e.test])})(e),u(e.clinic)},className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add to Cart"})]})]})},t)))})]}),i.length>0&&(0,va.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Selected Tests"}),(0,va.jsxs)("div",{className:"space-y-4",children:[i.map((e=>(0,va.jsxs)("div",{className:"flex items-center justify-between border-b pb-2",children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("h3",{className:"font-semibold",children:e.name}),c&&(0,va.jsxs)("p",{className:"text-sm text-gray-600",children:["at ",c.name]})]}),(0,va.jsxs)("div",{className:"flex items-center space-x-2",children:[c&&d.find((t=>t.test.id===e.id&&t.clinic.id===c.id))&&(0,va.jsxs)("span",{className:"font-bold",children:["USD"===m?"$":"L$","USD"===m?d.find((t=>t.test.id===e.id&&t.clinic.id===c.id)).pricing.price_usd:d.find((t=>t.test.id===e.id&&t.clinic.id===c.id)).pricing.price_lrd]}),(0,va.jsx)("button",{onClick:()=>{return t=e.id,void s(i.filter((e=>e.id!==t)));var t},className:"text-red-600 hover:text-red-800",children:(0,va.jsx)(sa,{className:"h-5 w-5"})})]})]},e.id))),(0,va.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"text-lg",children:(0,va.jsxs)("strong",{children:["Total Tests: ",i.length]})}),c&&(0,va.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:["Total: ","USD"===m?"$":"L$",x()]})]}),(0,va.jsx)("button",{onClick:()=>h(!0),disabled:!c,className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Book Tests"})]})]})]}),(0,va.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg shadow-md p-6",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Need Surgery in India?"}),(0,va.jsxs)("div",{className:"text-center",children:[(0,va.jsx)("img",{src:"https://images.unsplash.com/photo-1585421514738-01798e348b17?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2Nzd8MHwxfHNlYXJjaHwyfHxtZWRpY2FsfGVufDB8fHxibHVlfDE3NTI4ODA5NzB8MA&ixlib=rb-4.1.0&q=85",alt:"Medical Care",className:"mx-auto mb-4 rounded-lg w-48 h-32 object-cover"}),(0,va.jsx)("p",{className:"mb-4",children:"Get affordable surgery options in India with accommodation assistance"}),(0,va.jsx)(mt,{to:"/surgery-inquiry",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700",children:"Submit Surgery Inquiry"})]})]})]}),p&&(0,va.jsx)(Ea,{selectedTests:i,selectedClinic:c,currency:m,total:x(),onClose:()=>h(!1)})]})},Ea=e=>{let{selectedTests:t,selectedClinic:n,currency:r,total:l,onClose:o}=e;const[i,s]=(0,a.useState)({patient_name:"",patient_phone:"",patient_email:"",patient_location:"",delivery_method:"whatsapp",delivery_charge:0,notes:""}),[c,d]=(0,a.useState)(!1);return(0,va.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,va.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-96 overflow-y-auto",children:[(0,va.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,va.jsx)("h2",{className:"text-xl font-bold",children:"Book Lab Tests"}),(0,va.jsx)("button",{onClick:o,className:"text-gray-500 hover:text-gray-700",children:(0,va.jsx)(sa,{className:"h-6 w-6"})})]}),(0,va.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);try{const e=u(u({},i),{},{test_ids:t.map((e=>e.id)),clinic_id:n.id,preferred_currency:r,delivery_charge:parseFloat(i.delivery_charge)||0});await qr.post("".concat(xa,"/bookings"),e),alert("Booking created successfully! You will receive confirmation via your chosen delivery method."),o()}catch(a){console.error("Error creating booking:",a),alert("Error creating booking. Please try again.")}finally{d(!1)}},className:"space-y-4",children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Full Name *"}),(0,va.jsx)("input",{type:"text",required:!0,className:"w-full border rounded px-3 py-2",value:i.patient_name,onChange:e=>s(u(u({},i),{},{patient_name:e.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Phone Number *"}),(0,va.jsx)("input",{type:"tel",required:!0,className:"w-full border rounded px-3 py-2",value:i.patient_phone,onChange:e=>s(u(u({},i),{},{patient_phone:e.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email (Optional)"}),(0,va.jsx)("input",{type:"email",className:"w-full border rounded px-3 py-2",value:i.patient_email,onChange:e=>s(u(u({},i),{},{patient_email:e.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Location *"}),(0,va.jsx)("input",{type:"text",required:!0,className:"w-full border rounded px-3 py-2",value:i.patient_location,onChange:e=>s(u(u({},i),{},{patient_location:e.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Delivery Method *"}),(0,va.jsxs)("select",{className:"w-full border rounded px-3 py-2",value:i.delivery_method,onChange:e=>s(u(u({},i),{},{delivery_method:e.target.value})),children:[(0,va.jsx)("option",{value:"whatsapp",children:"WhatsApp Delivery (Free)"}),(0,va.jsx)("option",{value:"in_person",children:"In-Person Delivery"})]})]}),"in_person"===i.delivery_method&&(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Delivery Charge"}),(0,va.jsx)("input",{type:"number",step:"0.01",className:"w-full border rounded px-3 py-2",value:i.delivery_charge,onChange:e=>s(u(u({},i),{},{delivery_charge:e.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Notes (Optional)"}),(0,va.jsx)("textarea",{className:"w-full border rounded px-3 py-2 h-20",value:i.notes,onChange:e=>s(u(u({},i),{},{notes:e.target.value})),placeholder:"Any special instructions..."})]}),(0,va.jsxs)("div",{className:"border-t pt-4",children:[(0,va.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,va.jsx)("span",{children:"Tests Total:"}),(0,va.jsxs)("span",{children:["USD"===r?"$":"L$",l]})]}),(0,va.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,va.jsx)("span",{children:"Delivery Charge:"}),(0,va.jsxs)("span",{children:["USD"===r?"$":"L$",i.delivery_charge||0]})]}),(0,va.jsxs)("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[(0,va.jsx)("span",{children:"Grand Total:"}),(0,va.jsxs)("span",{children:["USD"===r?"$":"L$",l+(parseFloat(i.delivery_charge)||0)]})]})]}),(0,va.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,va.jsx)("button",{type:"button",onClick:o,className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-50",children:"Cancel"}),(0,va.jsx)("button",{type:"submit",disabled:c,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:bg-gray-400",children:c?"Booking...":"Confirm Booking"})]})]})]})})},Ca=()=>{const[e,t]=(0,a.useState)({email:"",password:""}),[n,r]=(0,a.useState)(!1),{login:l}=Sa(),o=he();return(0,va.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:(0,va.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,va.jsx)("div",{children:(0,va.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),(0,va.jsxs)("form",{className:"mt-8 space-y-6 bg-white p-8 rounded-lg shadow",onSubmit:async t=>{t.preventDefault(),r(!0);try{const t=await qr.post("".concat(xa,"/auth/login"),e);l(t.data.user,t.data.access_token),"admin"===t.data.user.role?o("/admin"):o("/clinic-dashboard")}catch(n){console.error("Login error:",n),alert("Invalid email or password")}finally{r(!1)}},children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),(0,va.jsx)("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:e.email,onChange:n=>t(u(u({},e),{},{email:n.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,va.jsx)("input",{type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:e.password,onChange:n=>t(u(u({},e),{},{password:n.target.value}))})]}),(0,va.jsx)("div",{children:(0,va.jsx)("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400",children:n?"Signing in...":"Sign in"})})]})]})})},_a=()=>{const{user:e}=Sa(),[t,n]=(0,a.useState)("bookings"),[r,l]=(0,a.useState)([]),[o,i]=(0,a.useState)([]),[s,c]=(0,a.useState)([]);(0,a.useEffect)((()=>{"admin"===(null===e||void 0===e?void 0:e.role)&&(u(),d(),f())}),[e]);const u=async()=>{try{const e=await qr.get("".concat(xa,"/tests"));l(e.data)}catch(e){console.error("Error fetching tests:",e)}},d=async()=>{try{const e=await qr.get("".concat(xa,"/clinics"));i(e.data)}catch(e){console.error("Error fetching clinics:",e)}},f=async()=>{try{const e=await qr.get("".concat(xa,"/bookings"));c(e.data)}catch(e){console.error("Error fetching bookings:",e)}};if("admin"!==(null===e||void 0===e?void 0:e.role))return(0,va.jsx)(Pe,{to:"/login"});const p=e=>{alert("Edit test: ".concat(e.name," (Feature to be implemented)"))},h=async e=>{if(window.confirm("Are you sure you want to delete this test? This action cannot be undone."))try{await qr.delete("".concat(xa,"/tests/").concat(e)),u(),alert("Test deleted successfully!")}catch(t){console.error("Error deleting test:",t),alert("Error deleting test")}},m=(e,t)=>{alert("Edit ".concat(t,": ").concat(e.name," (Feature to be implemented)"))},g=async(e,t)=>{if(window.confirm("Are you sure you want to delete this ".concat(t,"? This will also delete their login account.")))try{"clinic"===t&&await qr.delete("".concat(xa,"/clinics/").concat(e)),d(),alert("".concat(t," deleted successfully!"))}catch(n){console.error("Error deleting ".concat(t,":"),n),alert("Error deleting ".concat(t))}};return(0,va.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,va.jsxs)("div",{className:"flex",children:[(0,va.jsxs)("div",{className:"w-64 bg-white shadow-lg",children:[(0,va.jsx)("div",{className:"p-6",children:(0,va.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Panel"})}),(0,va.jsxs)("nav",{className:"mt-6",children:[(0,va.jsx)("div",{className:"px-6 py-2",children:(0,va.jsxs)("button",{onClick:()=>n("bookings"),className:"flex items-center w-full px-2 py-2 text-sm rounded ".concat("bookings"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[(0,va.jsx)(ha,{className:"mr-3 h-4 w-4"}),"Booking Information"]})}),(0,va.jsx)("div",{className:"px-6 py-2",children:(0,va.jsxs)("button",{onClick:()=>n("tests"),className:"flex items-center w-full px-2 py-2 text-sm rounded ".concat("tests"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[(0,va.jsx)(na,{className:"mr-3 h-4 w-4"}),"Test Management"]})}),(0,va.jsx)("div",{className:"px-6 py-2",children:(0,va.jsxs)("button",{onClick:()=>n("providers"),className:"flex items-center w-full px-2 py-2 text-sm rounded ".concat("providers"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[(0,va.jsx)(aa,{className:"mr-3 h-4 w-4"}),"Clinic/Hospital & Lab Technician Management"]})})]})]}),(0,va.jsxs)("div",{className:"flex-1 p-8",children:["bookings"===t&&(0,va.jsxs)("div",{className:"space-y-6",children:[(0,va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold",children:"Test Booking Management"}),(0,va.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,va.jsxs)("select",{className:"border rounded px-3 py-2",children:[(0,va.jsx)("option",{value:"",children:"All Status"}),(0,va.jsx)("option",{value:"new",children:"New"}),(0,va.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,va.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,va.jsx)("option",{value:"completed",children:"Completed"})]}),(0,va.jsx)("input",{type:"text",placeholder:"Search bookings...",className:"border rounded px-3 py-2"})]})]}),(0,va.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,va.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,va.jsxs)("div",{className:"flex items-center",children:[(0,va.jsx)(da,{className:"h-8 w-8 text-yellow-600 mr-3"}),(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"New Bookings"}),(0,va.jsx)("p",{className:"text-2xl font-bold text-yellow-900",children:s.filter((e=>"pending"===e.status)).length})]})]})}),(0,va.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,va.jsxs)("div",{className:"flex items-center",children:[(0,va.jsx)(fa,{className:"h-8 w-8 text-blue-600 mr-3"}),(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Scheduled"}),(0,va.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:s.filter((e=>"confirmed"===e.status)).length})]})]})}),(0,va.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:(0,va.jsxs)("div",{className:"flex items-center",children:[(0,va.jsx)(ra,{className:"h-8 w-8 text-orange-600 mr-3"}),(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"text-sm font-medium text-orange-800",children:"In Progress"}),(0,va.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:s.filter((e=>"sample_collected"===e.status||"results_ready"===e.status)).length})]})]})}),(0,va.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,va.jsxs)("div",{className:"flex items-center",children:[(0,va.jsx)(pa,{className:"h-8 w-8 text-green-600 mr-3"}),(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Completed"}),(0,va.jsx)("p",{className:"text-2xl font-bold text-green-900",children:s.filter((e=>"completed"===e.status)).length})]})]})})]}),(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,va.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,va.jsx)("thead",{className:"bg-gray-50",children:(0,va.jsxs)("tr",{children:[(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking ID"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Patient"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned Clinic"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tests"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Admin Actions"})]})}),(0,va.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map((e=>{const t=o.find((t=>t.id===e.clinic_id));return(0,va.jsxs)("tr",{children:[(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"font-medium",children:e.booking_number}),(0,va.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]})}),(0,va.jsx)("td",{className:"px-6 py-4",children:(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"font-medium",children:e.patient_name}),(0,va.jsx)("p",{className:"text-sm text-gray-500",children:e.patient_phone}),(0,va.jsx)("p",{className:"text-sm text-gray-500",children:e.patient_location})]})}),(0,va.jsx)("td",{className:"px-6 py-4",children:(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"font-medium",children:(null===t||void 0===t?void 0:t.name)||"Not Assigned"}),t&&(0,va.jsx)("p",{className:"text-sm text-gray-500",children:t.location})]})}),(0,va.jsx)("td",{className:"px-6 py-4",children:(0,va.jsxs)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:[e.test_ids.length," test(s)"]})}),(0,va.jsx)("td",{className:"px-6 py-4",children:(0,va.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-100 text-green-800":"confirmed"===e.status?"bg-blue-100 text-blue-800":"results_ready"===e.status?"bg-purple-100 text-purple-800":"sample_collected"===e.status?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"),children:"pending"===e.status?"NEW":"confirmed"===e.status?"SCHEDULED":"sample_collected"===e.status?"IN PROGRESS":"results_ready"===e.status?"RESULTS READY":"completed"===e.status?"COMPLETED":e.status.toUpperCase()})}),(0,va.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["USD"===e.preferred_currency?"$":"L$",e.total_amount.toFixed(2)]}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsxs)("div",{className:"space-y-2",children:[(0,va.jsxs)("select",{value:e.status,onChange:async t=>{try{await qr.put("".concat(xa,"/bookings/").concat(e.id,"/status"),{status:t.target.value}),f(),alert("Booking status updated!")}catch(n){console.error("Error updating status:",n),alert("Error updating status")}},className:"text-xs border rounded px-2 py-1 w-full",children:[(0,va.jsx)("option",{value:"pending",children:"New"}),(0,va.jsx)("option",{value:"confirmed",children:"Scheduled"}),(0,va.jsx)("option",{value:"sample_collected",children:"In Progress"}),(0,va.jsx)("option",{value:"results_ready",children:"Results Ready"}),(0,va.jsx)("option",{value:"completed",children:"Completed"}),(0,va.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),"pending"===e.status&&(0,va.jsxs)("select",{className:"text-xs border rounded px-2 py-1 w-full",onChange:async t=>{if(t.target.value)try{await qr.put("".concat(xa,"/bookings/").concat(e.id,"/status"),{status:"confirmed",clinic_id:t.target.value}),f(),alert("Booking assigned to clinic!")}catch(n){console.error("Error assigning clinic:",n),alert("Error assigning clinic")}},children:[(0,va.jsx)("option",{value:"",children:"Assign to Clinic"}),o.map((e=>(0,va.jsx)("option",{value:e.id,children:e.name},e.id)))]}),"results_ready"===e.status&&(0,va.jsx)("button",{onClick:()=>alert("WhatsApp notification sent to patient with results!"),className:"text-xs bg-green-600 text-white px-2 py-1 rounded w-full hover:bg-green-700",children:"Send via WhatsApp"})]})})]},e.id)}))})]}),0===s.length&&(0,va.jsx)("div",{className:"text-center py-12",children:(0,va.jsx)("p",{className:"text-gray-500",children:"No bookings found."})})]})]}),"tests"===t&&(0,va.jsxs)("div",{className:"space-y-6",children:[(0,va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold",children:"Test Management"}),(0,va.jsx)(Ta,{onSuccess:u})]}),(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,va.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,va.jsx)("thead",{className:"bg-gray-50",children:(0,va.jsxs)("tr",{children:[(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Test Name"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created Date"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,va.jsx)("tbody",{className:"divide-y divide-gray-200",children:r.map((e=>(0,va.jsxs)("tr",{children:[(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:e.name}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:e.category})}),(0,va.jsx)("td",{className:"px-6 py-4 max-w-xs truncate",children:e.description}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsxs)("div",{className:"flex space-x-2",children:[(0,va.jsx)("button",{className:"text-blue-600 hover:text-blue-800",onClick:()=>p(e),children:(0,va.jsx)(ca,{className:"h-4 w-4"})}),(0,va.jsx)("button",{className:"text-red-600 hover:text-red-800",onClick:()=>h(e.id),children:(0,va.jsx)(ua,{className:"h-4 w-4"})})]})})]},e.id)))})]}),0===r.length&&(0,va.jsxs)("div",{className:"text-center py-12",children:[(0,va.jsx)(na,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,va.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tests"}),(0,va.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new lab test."})]})]})]}),"providers"===t&&(0,va.jsxs)("div",{className:"space-y-6",children:[(0,va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold",children:"Clinic/Hospital & Lab Technician Management"}),(0,va.jsx)(Pa,{onSuccess:()=>{d()}})]}),(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,va.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,va.jsx)("thead",{className:"bg-gray-50",children:(0,va.jsxs)("tr",{children:[(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Provider Name"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Phone"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,va.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[(0,va.jsxs)("tr",{className:"bg-red-50",children:[(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:"ChekUp Administrator"}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsx)("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded",children:"Admin"})}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"admin@chekup.com"}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"Monrovia, Liberia"}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"+231-XXX-XXXX"}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Active"})}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsx)("span",{className:"text-gray-400 text-sm",children:"Protected"})})]}),o.map((e=>(0,va.jsxs)("tr",{children:[(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:e.name}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"Clinic"})}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.email}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.location}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.phone}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Active"})}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsxs)("div",{className:"flex space-x-2",children:[(0,va.jsx)("button",{className:"text-blue-600 hover:text-blue-800",onClick:()=>m(e,"clinic"),children:(0,va.jsx)(ca,{className:"h-4 w-4"})}),(0,va.jsx)("button",{className:"text-red-600 hover:text-red-800",onClick:()=>g(e.id,"clinic"),children:(0,va.jsx)(ua,{className:"h-4 w-4"})})]})})]},e.id)))]})]}),0===o.length&&(0,va.jsxs)("div",{className:"text-center py-12",children:[(0,va.jsx)(aa,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,va.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No healthcare providers"}),(0,va.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new clinic, hospital, or lab technician."})]})]})]})]})]})})},Pa=e=>{let{onSuccess:t}=e;const[n,r]=(0,a.useState)(!1),[l,o]=(0,a.useState)({name:"",email:"",phone:"",location:"",role:"clinic",password:"",description:"",services:""});return n?(0,va.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,va.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-96 overflow-y-auto",children:[(0,va.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,va.jsx)("h2",{className:"text-xl font-bold",children:"Create New Healthcare Provider"}),(0,va.jsx)("button",{onClick:()=>r(!1),className:"text-gray-500",children:(0,va.jsx)(sa,{className:"h-6 w-6"})})]}),(0,va.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={name:l.name,email:l.email,phone:l.phone,location:l.location,role:l.role,password:l.password},n=await qr.post("".concat(xa,"/auth/register"),e);if("clinic"===l.role){const e={user_id:n.data.id,name:l.name,description:l.description||"Healthcare facility",location:l.location,phone:l.phone,email:l.email,services:l.services?l.services.split(",").map((e=>e.trim())):[],operating_hours:{}};await qr.post("".concat(xa,"/clinics"),e)}r(!1),o({name:"",email:"",phone:"",location:"",role:"clinic",password:"",description:"",services:""}),t(),alert("".concat("clinic"===l.role?"Clinic/Hospital":"Lab Technician"," created successfully!\n\nLogin Credentials:\nEmail: ").concat(l.email,"\nPassword: ").concat(l.password,"\n\nProvide these credentials to the healthcare provider."))}catch(n){console.error("Error creating provider:",n),alert("Error creating provider. Please check if email already exists.")}},className:"space-y-4",children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider Type"}),(0,va.jsxs)("select",{required:!0,className:"w-full border rounded px-3 py-2",value:l.role,onChange:e=>o(u(u({},l),{},{role:e.target.value})),children:[(0,va.jsx)("option",{value:"clinic",children:"Clinic/Hospital"}),(0,va.jsx)("option",{value:"lab_technician",children:"Lab Technician"})]})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"clinic"===l.role?"Clinic/Hospital Name":"Technician Name"}),(0,va.jsx)("input",{type:"text",required:!0,className:"w-full border rounded px-3 py-2",value:l.name,onChange:e=>o(u(u({},l),{},{name:e.target.value}))})]}),(0,va.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,va.jsx)("input",{type:"email",required:!0,className:"w-full border rounded px-3 py-2",value:l.email,onChange:e=>o(u(u({},l),{},{email:e.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,va.jsx)("input",{type:"tel",required:!0,className:"w-full border rounded px-3 py-2",value:l.phone,onChange:e=>o(u(u({},l),{},{phone:e.target.value}))})]})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,va.jsx)("input",{type:"text",required:!0,placeholder:"City, District, Liberia",className:"w-full border rounded px-3 py-2",value:l.location,onChange:e=>o(u(u({},l),{},{location:e.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Login Password"}),(0,va.jsx)("input",{type:"password",required:!0,className:"w-full border rounded px-3 py-2",value:l.password,onChange:e=>o(u(u({},l),{},{password:e.target.value}))})]}),"clinic"===l.role&&(0,va.jsxs)(va.Fragment,{children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,va.jsx)("textarea",{className:"w-full border rounded px-3 py-2 h-16",placeholder:"Brief description of services offered",value:l.description,onChange:e=>o(u(u({},l),{},{description:e.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Services"}),(0,va.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"e.g., General Practice, Laboratory, X-Ray",value:l.services,onChange:e=>o(u(u({},l),{},{services:e.target.value}))})]})]}),(0,va.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,va.jsx)("button",{type:"button",onClick:()=>r(!1),className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-50",children:"Cancel"}),(0,va.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Create & Generate Login"})]})]})]})}):(0,va.jsxs)("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center",children:[(0,va.jsx)(ma,{className:"mr-2 h-4 w-4"}),"Create Provider"]})},Ta=e=>{let{onSuccess:t}=e;const[n,r]=(0,a.useState)(!1),[l,o]=(0,a.useState)({name:"",description:"",category:"",preparation_instructions:""});return n?(0,va.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,va.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,va.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,va.jsx)("h2",{className:"text-xl font-bold",children:"Add New Test"}),(0,va.jsx)("button",{onClick:()=>r(!1),className:"text-gray-500",children:(0,va.jsx)(sa,{className:"h-6 w-6"})})]}),(0,va.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await qr.post("".concat(xa,"/tests"),l),r(!1),o({name:"",description:"",category:"",preparation_instructions:""}),t()}catch(n){console.error("Error creating test:",n),alert("Error creating test")}},className:"space-y-4",children:[(0,va.jsx)("input",{type:"text",placeholder:"Test Name",required:!0,className:"w-full border rounded px-3 py-2",value:l.name,onChange:e=>o(u(u({},l),{},{name:e.target.value}))}),(0,va.jsx)("input",{type:"text",placeholder:"Category",required:!0,className:"w-full border rounded px-3 py-2",value:l.category,onChange:e=>o(u(u({},l),{},{category:e.target.value}))}),(0,va.jsx)("textarea",{placeholder:"Description",required:!0,className:"w-full border rounded px-3 py-2 h-20",value:l.description,onChange:e=>o(u(u({},l),{},{description:e.target.value}))}),(0,va.jsx)("textarea",{placeholder:"Preparation Instructions (Optional)",className:"w-full border rounded px-3 py-2 h-20",value:l.preparation_instructions,onChange:e=>o(u(u({},l),{},{preparation_instructions:e.target.value}))}),(0,va.jsxs)("div",{className:"flex space-x-4",children:[(0,va.jsx)("button",{type:"button",onClick:()=>r(!1),className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-50",children:"Cancel"}),(0,va.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Add Test"})]})]})]})}):(0,va.jsxs)("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center",children:[(0,va.jsx)(ma,{className:"mr-2 h-4 w-4"}),"Add Test"]})},Ra=()=>{const[e,t]=(0,a.useState)({patient_name:"",patient_phone:"",patient_email:"",surgery_type:"",medical_condition:"",preferred_hospital_location:"India",budget_range:"",notes:""}),[n,r]=(0,a.useState)(!1),l=he();return(0,va.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:(0,va.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,va.jsxs)("div",{className:"text-center mb-8",children:[(0,va.jsx)("img",{src:"https://images.unsplash.com/photo-1606206873764-fd15e242df52?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2Nzd8MHwxfHNlYXJjaHwzfHxtZWRpY2FsfGVufDB8fHxibHVlfDE3NTI4ODA5NzB8MA&ixlib=rb-4.1.0&q=85",alt:"Medical Equipment",className:"mx-auto mb-4 rounded-lg w-64 h-40 object-cover"}),(0,va.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Surgery Inquiry"}),(0,va.jsx)("p",{className:"text-gray-600",children:"Get affordable surgery options in India with accommodation assistance"})]}),(0,va.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0);try{await qr.post("".concat(xa,"/surgery-inquiries"),e),alert("Surgery inquiry submitted successfully! Our team will contact you within 24 hours."),l("/")}catch(n){console.error("Error submitting surgery inquiry:",n),alert("Error submitting inquiry. Please try again.")}finally{r(!1)}},className:"space-y-6",children:[(0,va.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,va.jsx)("input",{type:"text",required:!0,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.patient_name,onChange:n=>t(u(u({},e),{},{patient_name:n.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),(0,va.jsx)("input",{type:"tel",required:!0,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.patient_phone,onChange:n=>t(u(u({},e),{},{patient_phone:n.target.value}))})]})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"}),(0,va.jsx)("input",{type:"email",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.patient_email,onChange:n=>t(u(u({},e),{},{patient_email:n.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type of Surgery *"}),(0,va.jsx)("input",{type:"text",required:!0,placeholder:"e.g., Heart Surgery, Knee Replacement, etc.",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.surgery_type,onChange:n=>t(u(u({},e),{},{surgery_type:n.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical Condition *"}),(0,va.jsx)("textarea",{required:!0,rows:3,placeholder:"Please describe your medical condition and current symptoms",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.medical_condition,onChange:n=>t(u(u({},e),{},{medical_condition:n.target.value}))})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget Range *"}),(0,va.jsxs)("select",{required:!0,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.budget_range,onChange:n=>t(u(u({},e),{},{budget_range:n.target.value})),children:[(0,va.jsx)("option",{value:"",children:"Select Budget Range"}),(0,va.jsx)("option",{value:"Under $5,000",children:"Under $5,000"}),(0,va.jsx)("option",{value:"$5,000 - $10,000",children:"$5,000 - $10,000"}),(0,va.jsx)("option",{value:"$10,000 - $20,000",children:"$10,000 - $20,000"}),(0,va.jsx)("option",{value:"$20,000 - $50,000",children:"$20,000 - $50,000"}),(0,va.jsx)("option",{value:"Above $50,000",children:"Above $50,000"})]})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),(0,va.jsx)("textarea",{rows:3,placeholder:"Any additional information or special requirements",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.notes,onChange:n=>t(u(u({},e),{},{notes:n.target.value}))})]}),(0,va.jsxs)("div",{className:"flex space-x-4",children:[(0,va.jsx)("button",{type:"button",onClick:()=>l("/"),className:"flex-1 border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,va.jsx)("button",{type:"submit",disabled:n,className:"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:n?"Submitting...":"Submit Inquiry"})]})]}),(0,va.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[(0,va.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"What happens next?"}),(0,va.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,va.jsx)("li",{children:"\u2022 Our team will review your inquiry within 24 hours"}),(0,va.jsx)("li",{children:"\u2022 We'll contact Indian hospitals to check availability and pricing"}),(0,va.jsx)("li",{children:"\u2022 We'll provide you with accommodation options near the hospital"}),(0,va.jsx)("li",{children:"\u2022 All details will be sent via WhatsApp or phone call"})]})]})]})})})},Oa=()=>{const{user:e}=Sa(),[t,n]=(0,a.useState)("dashboard"),[r,l]=(0,a.useState)([]),[o,i]=(0,a.useState)(null),[s,c]=(0,a.useState)([]),[u,d]=(0,a.useState)(!1);(0,a.useEffect)((()=>{"clinic"===(null===e||void 0===e?void 0:e.role)&&(f(),p(),h())}),[e]);const f=async()=>{try{const t=(await qr.get("".concat(xa,"/clinics"))).data.find((t=>t.user_id===e.id));i(t)}catch(t){console.error("Error fetching clinic data:",t)}},p=async()=>{try{const e=await qr.get("".concat(xa,"/bookings"));l(e.data)}catch(e){console.error("Error fetching bookings:",e)}},h=async()=>{try{if(o){const e=await qr.get("".concat(xa,"/public/clinics/").concat(o.id,"/tests"));c(e.data)}}catch(e){console.error("Error fetching test pricing:",e)}};if("clinic"!==(null===e||void 0===e?void 0:e.role))return(0,va.jsx)(Pe,{to:"/login"});return(0,va.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,va.jsxs)("div",{className:"flex",children:[(0,va.jsxs)("div",{className:"w-64 bg-white shadow-lg",children:[(0,va.jsxs)("div",{className:"p-6",children:[(0,va.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Clinic Portal"}),(0,va.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome, ",e.name]})]}),(0,va.jsxs)("nav",{className:"mt-6",children:[(0,va.jsx)("div",{className:"px-6 py-2",children:(0,va.jsxs)("button",{onClick:()=>n("dashboard"),className:"flex items-center w-full px-2 py-2 text-sm rounded ".concat("dashboard"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[(0,va.jsx)(ga,{className:"mr-3 h-4 w-4"}),"Dashboard"]})}),(0,va.jsx)("div",{className:"px-6 py-2",children:(0,va.jsxs)("button",{onClick:()=>n("bookings"),className:"flex items-center w-full px-2 py-2 text-sm rounded ".concat("bookings"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[(0,va.jsx)(ha,{className:"mr-3 h-4 w-4"}),"Bookings"]})}),(0,va.jsx)("div",{className:"px-6 py-2",children:(0,va.jsxs)("button",{onClick:()=>n("tests"),className:"flex items-center w-full px-2 py-2 text-sm rounded ".concat("tests"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[(0,va.jsx)(na,{className:"mr-3 h-4 w-4"}),"Offered Tests"]})}),(0,va.jsx)("div",{className:"px-6 py-2",children:(0,va.jsxs)("button",{onClick:()=>n("checklist"),className:"flex items-center w-full px-2 py-2 text-sm rounded ".concat("checklist"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[(0,va.jsx)(pa,{className:"mr-3 h-4 w-4"}),"Sample Checklist"]})}),(0,va.jsx)("div",{className:"px-6 py-2",children:(0,va.jsxs)("button",{onClick:()=>n("commissions"),className:"flex items-center w-full px-2 py-2 text-sm rounded ".concat("commissions"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[(0,va.jsx)(ya,{className:"mr-3 h-4 w-4"}),"Commissions"]})}),(0,va.jsx)("div",{className:"px-6 py-2",children:(0,va.jsxs)("button",{onClick:()=>n("profile"),className:"flex items-center w-full px-2 py-2 text-sm rounded ".concat("profile"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[(0,va.jsx)(ba,{className:"mr-3 h-4 w-4"}),"Profile"]})})]})]}),(0,va.jsxs)("div",{className:"flex-1 p-8",children:["dashboard"===t&&(0,va.jsxs)("div",{className:"space-y-6",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold",children:"Clinic Dashboard"}),o&&(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,va.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"My Clinic Information"}),(0,va.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,va.jsxs)("div",{children:[(0,va.jsxs)("p",{children:[(0,va.jsx)("strong",{children:"Name:"})," ",o.name]}),(0,va.jsxs)("p",{children:[(0,va.jsx)("strong",{children:"Location:"})," ",o.location]}),(0,va.jsxs)("p",{children:[(0,va.jsx)("strong",{children:"Phone:"})," ",o.phone]}),(0,va.jsxs)("p",{children:[(0,va.jsx)("strong",{children:"Email:"})," ",o.email]})]}),(0,va.jsxs)("div",{children:[(0,va.jsxs)("p",{children:[(0,va.jsx)("strong",{children:"Rating:"})," \u2b50 ",o.rating,"/5 (",o.total_reviews," reviews)"]}),(0,va.jsxs)("p",{children:[(0,va.jsx)("strong",{children:"Status:"})," Active"]})]})]})]}),(0,va.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,va.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,va.jsxs)("div",{className:"flex items-center",children:[(0,va.jsx)(ha,{className:"h-8 w-8 text-blue-600 mr-3"}),(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Bookings"}),(0,va.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),(0,va.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,va.jsxs)("div",{className:"flex items-center",children:[(0,va.jsx)(pa,{className:"h-8 w-8 text-green-600 mr-3"}),(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,va.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.filter((e=>"completed"===e.status)).length})]})]})}),(0,va.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,va.jsxs)("div",{className:"flex items-center",children:[(0,va.jsx)(fa,{className:"h-8 w-8 text-yellow-600 mr-3"}),(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),(0,va.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.filter((e=>"pending"===e.status)).length})]})]})})]})]}),"bookings"===t&&(0,va.jsxs)("div",{className:"space-y-6",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold",children:"Manage Bookings"}),(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,va.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,va.jsx)("thead",{className:"bg-gray-50",children:(0,va.jsxs)("tr",{children:[(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking ID"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Patient"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tests"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,va.jsx)("tbody",{className:"divide-y divide-gray-200",children:r.map((e=>(0,va.jsxs)("tr",{children:[(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:e.booking_number}),(0,va.jsx)("td",{className:"px-6 py-4",children:(0,va.jsxs)("div",{children:[(0,va.jsx)("p",{className:"font-medium",children:e.patient_name}),(0,va.jsx)("p",{className:"text-sm text-gray-500",children:e.patient_phone})]})}),(0,va.jsx)("td",{className:"px-6 py-4",children:(0,va.jsxs)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:[e.test_ids.length," test(s)"]})}),(0,va.jsx)("td",{className:"px-6 py-4",children:(0,va.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-100 text-green-800":"confirmed"===e.status?"bg-blue-100 text-blue-800":"results_ready"===e.status?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"),children:e.status.replace("_"," ")})}),(0,va.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["$",e.total_amount.toFixed(2)]}),(0,va.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap space-x-2",children:[(0,va.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{await qr.put("".concat(xa,"/bookings/").concat(e,"/status"),{status:t}),p(),alert("Booking status updated successfully!")}catch(n){console.error("Error updating booking status:",n),alert("Error updating booking status")}})(e.id,t.target.value),className:"text-sm border rounded px-2 py-1",children:[(0,va.jsx)("option",{value:"pending",children:"Pending"}),(0,va.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,va.jsx)("option",{value:"sample_collected",children:"Sample Collected"}),(0,va.jsx)("option",{value:"results_ready",children:"Results Ready"}),(0,va.jsx)("option",{value:"completed",children:"Completed"})]}),"sample_collected"===e.status&&(0,va.jsxs)("label",{className:"cursor-pointer bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:["Upload Results",(0,va.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.png,.docx",className:"hidden",onChange:t=>(async(e,t)=>{try{const n=new FormData;Array.from(t).forEach((e=>{n.append("files",e)})),await qr.post("".concat(xa,"/bookings/").concat(e,"/upload-results"),n,{headers:{"Content-Type":"multipart/form-data"}}),alert("Results uploaded successfully!"),p()}catch(n){console.error("Error uploading results:",n),alert("Error uploading results")}})(e.id,t.target.files)})]})]})]},e.id)))})]}),0===r.length&&(0,va.jsx)("div",{className:"text-center py-12",children:(0,va.jsx)("p",{className:"text-gray-500",children:"No bookings assigned to your clinic yet."})})]})]}),"tests"===t&&(0,va.jsxs)("div",{className:"space-y-6",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold",children:"Offered Tests & Pricing"}),(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,va.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,va.jsx)("thead",{className:"bg-gray-50",children:(0,va.jsxs)("tr",{children:[(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Test Name"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"USD Price"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"LRD Price"}),(0,va.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),(0,va.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map(((e,t)=>{var n,r,a,l,o,i;return(0,va.jsxs)("tr",{children:[(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:(null===(n=e.test)||void 0===n?void 0:n.name)||"Unknown Test"}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:(null===(r=e.test)||void 0===r?void 0:r.category)||"N/A"})}),(0,va.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["$",(null===(a=e.pricing)||void 0===a?void 0:a.price_usd)||"0.00"]}),(0,va.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["L$",(null===(l=e.pricing)||void 0===l?void 0:l.price_lrd)||"0.00"]}),(0,va.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,va.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs ".concat(null!==(o=e.pricing)&&void 0!==o&&o.is_available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:null!==(i=e.pricing)&&void 0!==i&&i.is_available?"Available":"Unavailable"})})]},t)}))})]}),0===s.length&&(0,va.jsx)("div",{className:"text-center py-12",children:(0,va.jsx)("p",{className:"text-gray-500",children:"No tests configured yet. Contact admin to set up test pricing."})})]})]}),"checklist"===t&&(0,va.jsxs)("div",{className:"space-y-6",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold",children:"Sample Collection Checklist"}),(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,va.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Pre-Collection Safety Protocol"}),(0,va.jsx)("div",{className:"space-y-3",children:["Verify patient identity with valid ID","Confirm test requirements and fasting status","Check sample collection containers and labels","Ensure sterile collection environment","Use proper PPE (gloves, mask, sanitizer)","Label samples immediately after collection","Document collection time and conditions","Store samples at correct temperature","Complete chain of custody documentation","Prepare samples for transport to lab"].map(((e,t)=>(0,va.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,va.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600"}),(0,va.jsx)("label",{className:"text-sm text-gray-700",children:e})]},t)))}),(0,va.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[(0,va.jsx)("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Important Notes:"}),(0,va.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,va.jsx)("li",{children:"\u2022 Always follow universal precautions"}),(0,va.jsx)("li",{children:"\u2022 Document any collection issues or patient concerns"}),(0,va.jsx)("li",{children:"\u2022 Contact lab immediately for urgent samples"}),(0,va.jsx)("li",{children:"\u2022 Ensure proper transport conditions maintained"})]})]})]})]}),"commissions"===t&&(0,va.jsxs)("div",{className:"space-y-6",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold",children:"Commission Summary"}),(0,va.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,va.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-b",children:(0,va.jsx)("h3",{className:"text-lg font-semibold",children:"Auto-Generated Invoices"})}),(0,va.jsxs)("div",{className:"p-6",children:[(0,va.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,va.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,va.jsx)("h4",{className:"font-semibold text-blue-800",children:"This Month"}),(0,va.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:"$0.00"}),(0,va.jsx)("p",{className:"text-sm text-blue-600",children:"0 completed tests"})]}),(0,va.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,va.jsx)("h4",{className:"font-semibold text-green-800",children:"Total Earnings"}),(0,va.jsx)("p",{className:"text-2xl font-bold text-green-900",children:"$0.00"}),(0,va.jsx)("p",{className:"text-sm text-green-600",children:"0 total tests"})]}),(0,va.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,va.jsx)("h4",{className:"font-semibold text-yellow-800",children:"Pending"}),(0,va.jsx)("p",{className:"text-2xl font-bold text-yellow-900",children:"$0.00"}),(0,va.jsx)("p",{className:"text-sm text-yellow-600",children:"0 pending payments"})]})]}),(0,va.jsx)("h4",{className:"font-semibold mb-4",children:"Recent Invoices"}),(0,va.jsx)("div",{className:"space-y-4",children:0===r.filter((e=>"completed"===e.status)).length?(0,va.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No completed tests yet. Commission invoices will appear here."}):r.filter((e=>"completed"===e.status)).map((e=>(0,va.jsx)("div",{className:"border rounded-lg p-4",children:(0,va.jsxs)("div",{className:"flex justify-between items-start",children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("h5",{className:"font-semibold",children:e.booking_number}),(0,va.jsxs)("p",{className:"text-sm text-gray-600",children:["Patient: ",e.patient_name]}),(0,va.jsxs)("p",{className:"text-sm text-gray-600",children:["Tests: ",e.test_ids.length]})]}),(0,va.jsxs)("div",{className:"text-right",children:[(0,va.jsxs)("p",{className:"font-bold text-green-600",children:["Commission: $",(.15*e.total_amount).toFixed(2)]}),(0,va.jsxs)("p",{className:"text-sm text-gray-500",children:["15% of $",e.total_amount]})]})]})},e.id)))})]})]})]}),"profile"===t&&(0,va.jsxs)("div",{className:"space-y-6",children:[(0,va.jsx)("h2",{className:"text-2xl font-bold",children:"Clinic Profile"}),o&&(0,va.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,va.jsxs)("div",{className:"space-y-4",children:[(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Clinic Name"}),(0,va.jsx)("input",{type:"text",value:o.name,disabled:!0,className:"w-full border rounded px-3 py-2 bg-gray-50"})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,va.jsx)("input",{type:"text",value:o.location,disabled:!0,className:"w-full border rounded px-3 py-2 bg-gray-50"})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,va.jsx)("input",{type:"text",value:o.phone,disabled:!0,className:"w-full border rounded px-3 py-2 bg-gray-50"})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,va.jsx)("input",{type:"email",value:o.email,disabled:!0,className:"w-full border rounded px-3 py-2 bg-gray-50"})]}),(0,va.jsxs)("div",{children:[(0,va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,va.jsx)("textarea",{value:o.description,disabled:!0,className:"w-full border rounded px-3 py-2 bg-gray-50 h-20"})]}),(0,va.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,va.jsx)("strong",{children:"Note:"})," Contact the administrator to update your clinic information."]})]})})]})]})]})})},La=e=>{let{children:t,allowedRoles:n=[]}=e;const{user:r}=Sa();return r?n.length>0&&!n.includes(r.role)?(0,va.jsx)(Pe,{to:"/"}):t:(0,va.jsx)(Pe,{to:"/login"})};const Aa=function(){return(0,va.jsx)("div",{className:"App",children:(0,va.jsx)(ka,{children:(0,va.jsxs)(pt,{children:[(0,va.jsx)(Na,{}),(0,va.jsxs)(Oe,{children:[(0,va.jsx)(Te,{path:"/",element:(0,va.jsx)(ja,{})}),(0,va.jsx)(Te,{path:"/admin-login",element:(0,va.jsx)(Ca,{})}),(0,va.jsx)(Te,{path:"/surgery-inquiry",element:(0,va.jsx)(Ra,{})}),(0,va.jsx)(Te,{path:"/admin/*",element:(0,va.jsx)(La,{allowedRoles:["admin"],children:(0,va.jsx)(_a,{})})}),(0,va.jsx)(Te,{path:"/clinic-dashboard",element:(0,va.jsx)(La,{allowedRoles:["clinic","lab_technician"],children:(0,va.jsx)(Oa,{})})})]})]})})})};l.createRoot(document.getElementById("root")).render((0,va.jsx)(a.StrictMode,{children:(0,va.jsx)(Aa,{})}))})();
//# sourceMappingURL=main.04f464e8.js.map